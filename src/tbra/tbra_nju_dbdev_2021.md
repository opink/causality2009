# 南京大学2021-数据库开发-网课

[链接： NJU-数据库开发 ](https://www.bilibili.com/video/BV1954y1L7hE/?p=7&share_source=copy_web&vd_source=11141d7b83e628e7a2f8baf703e55130)

## Lessen 4.2 使用sql需要考虑的因素

### 表的join连接数量
1.  (太)多表连接该质疑设计的正确性
	- 一个表陈述一个事实，如果有太多不明显的事实才能得出结果，那最初表设计可能有问题
2. 对于优化器，随着表数量的增加，复杂度会指数增长，查询优化器很可能在timeout的时间内处理不完优化，因而可能做出错误的优化
3. 人编写(太)多表的复杂查询时，多种方式连接的选择失误几率增大，写sql都可能会写错

### 并发用户数
一般而言，整体吞吐量>个体响应时间

- 设计的时候需要注意
	- 数据块访问争用(block-access contention)
	- 阻塞(locking)
	- 闩定(latching)
	- 保证读取一致性(read consistency)

## Lessen 4.3查询的where过滤条件
- 好的过滤条件，需要先做，满足此条件的数据越少越好
	- 越快剔除不需要的数据，查询的后续阶段必须处理的数据量就越少，查询效率就越高
	- 高效的过滤条件是查询优化的主要驱动力
- 根据数据实际，使用 *exists* 暗示查询优化器外部(父)查询更高效 / xxx *in* 暗示查询优化器子查询效率更高

