# chapter 1.2 图与概率

## 1.2.1 图的符号与术语
```admonish note
图中的 <a id="defpath">**路径**</a> 是(不同的)边的序列(例如图1.1a中的(`(W, Z), (Z, Y), (Y, X), (X, Z)`))，每条边都起始于前一条边的终点，它可以与箭头同向或反向。  
  - 如果路径上每条边的箭头 *都是* 从该边的第一个顶点指向第二个顶点，则称该路径为一个 <a id="deforderpath">**有向路径**</a> 。
```

## 1.2.2 贝叶斯网络

## 1.2.3 *d-分离* 准则
&emsp;&emsp;考虑3个不相交的变量集 *X、Y、Z* ，它们表示有向无环图 *G* 中的节点。为了检验在任何与 *G* 相容的分布中在 *Z* 条件下 *X* 是否独立于 *Y* ，我们需要检验变量集 *Z* 所对应的节点是否"阻断"了从节点 *X* 到节点 *Y* 的所有路径。这里的 *路径* 是指图中一系列连续(任意方向)的边，阻断可以解释为这些路径连接的变量之间的信息流(或关联流)，正如下面所定义的。 

```admonish check
### <a id="def1.2.3">定义 1.2.3 (*d-分离*)</a>
- 路径p被节点集 *Z* d-分离(或阻断)，**当且仅当**
  - p包含了一个*链* `i → m → j` 或一个*分叉* `i ← m → j`，而中间节点m在 *Z* 中；  

  &emsp;&emsp;或者
  - p包含一个*对撞* `i → m ← j`，而中间节点m以及m的任何后代节点都不在 *Z* 中。  

- 集合 *Z* 将 *X* 与 *Y* d-分离, **当且仅当**   
    - *Z* 阻断了从 *X* 中每个节点到 *Y* 中每个节点的所有路径。
```

#### 如果我们将因果意义赋予图中的箭头，那么很容易看出 *d-分离* 背后简单的直观想法。
- 在 *链结构* `i → m → j` 与 *分叉结构* `i ← m → j` 中，两端变量边缘相关，但如果以中间变量为条件(即已知其值)，那么这两个变量变得相互独立(即阻断)。  
- *对撞结构* `i → m ← j` 表示两个原因合成共同的效应。与 *分叉结构* 相反，如果两端变量是(边缘)独立的，那么一旦我们以中间变量(即共同效应)或者它的任何后代为条件，这两个变量会变得相关(即变量间的路径变为未阻断)
  - 对两个独立原因的共同结果的观察会使这两个原因相关，因为如果结果已经发生，其中一个原因的信息会使另一个原因的可能性变大或变小，这种模式在统计文献中被称为 *选择偏差或Berkson悖论*。  


```admonish check
### 定理 1.2.8 (观察等价)
两个DAG观察等价，**当且仅当** 他们有相同的 *骨架* 及相同的 *v-结构(对撞)* 。
```
&emsp;&emsp;观察等价性限制了我们仅从概率关系推断箭头方向的能力。如果不借助操作性实验或时间信息，就无法区分两个观察上等价的DAG。