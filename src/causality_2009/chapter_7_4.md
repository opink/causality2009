# Chapter 7.4 基于结构化和相似性的反事实

## 7.4.5 <a id="def_exogeneity">外生性</a>和工具变量：反事实定义和图模型定义

&emsp;&emsp;本章分析了结构方程模型中误差项的反事实和解释，补充了式(5.25)的运算定义。我们已经知道，方程 \\(Y = f_Y(pa_Y,u_Y)\\) 中误差项 u<sub>Y</sub> 的含义可以通过反事实变量 \\(Y_{pa_Y}\\) 进行描述。换句话说，变量 u<sub>*Y*</sub> 可以解释为 *PA<sub>Y</sub>* 到 *Y* 的函数映射的修正因子。...  
&emsp;&emsp;有了这种解释，我们就可以得到因果概念的图模型定义和反事实定义，这些因果概念历史上最初是基于误差项定义的。这种概念的例子包含因果影响、外生性和工具变量(5.4.3节)。在阐明这些概念的定义依赖于误差项、反事实和图模型之间的关系时，我们应首先注意到，这三种描述方式可以组织为一个简单的顺序层次结构。由于图分离意味着独立性，但独立性并不意味着图分离(定理1.2.4)，因此基于图分离的外生性的定义应该隐含(强于)基于误差项独立性的外生性的定义；同样，由于对于任意两个变量 *X* 和 *Y*，独立性关系 \\(U_X \perp U_Y\\) 蕴含反事实独立性 \\(X_{PA_X} \perp Y_{PA_Y}\\) (但反过来不成立)，因此基于误差项独立性的定义应该隐含(强于)基于反事实独立性的定义。总的来说，存在以下层次顺序：
\\[【图模型准则】 &emsp; 强于 &emsp; 【基于误差项的准则】 &emsp; 强于 &emsp; 【反事实准则】\\]
&emsp;&emsp;在实际应用中，外生性的定义最好用反事实或干预的属于进行表述，具体实践如下所述：

```admonish check
### <a id="def_exogeneity_conterfactual">弱定义 外生性 (通过反事实准则定义)</a>
&emsp;&emsp;当且仅当 *X* 对 *Y* 的潜在效应与 *X* 条件下 *Y* 的概率相同时，变量 *X* 相对于 *Y* 是外生的，即：  
\\[ P(Y_{x} = y)=P(y | X=x) \tag{7.45} \\]

**<a id="form7.46">或者</a>**  

\\[ P(Y = y| do(X=x)) = P(y| X=x)  \tag{7.46} \\]

反过来，这等价于被Rosenbaum和Rubin(1983)称为"弱可忽略性(weak ignorability)"的独立性条件\\(Y_x \perp X\\)的概念。
```

&emsp;&emsp;这种定义是实用的，因为它强调了经济学家应关注外生性的原因，解释了发现一个外生变量对于策略分析的好处。但是，这一定义不能帮助研究人员从某个领域的常识中，验证这种独立性条件是否适用于给定系统(i.e.可迁移性，因为没有提供完整的因果图)，尤其是在涉及多个方程式时。为了便于作出这样的判断，历史上经济学家(Koopmans 1950; Orcutt 1952)采用了基于误差项的准则(定义5.4.6)：

```admonish check
### <a id="def_exogeneity_error">定义 强外生性 (基于误差项准则定义)</a>
&emsp;&emsp;如果在模型 M 中， 变量 *X* 独立于所有不经 *X* 而影响 *Y*的误差项，那么变量 *X* 相对于 *Y* 是外生的。  
```

&emsp;&emsp;这种定义更有利于我们的判断，因为使用误差项的表述时，更容易将注意力集中在可能会潜在影响 *Y* 的那些特定因素上，而这些因素往往是特定领域内的科学家所熟悉的。不过，判断这些因素在统计上是否独立是一项艰巨的智力任务，除非独立性是由确保其稳定性的拓扑(i.e. 因果图)所决定的。  
&emsp;&emsp;事实上，最通俗易懂的外生性概念包含在"共同原因"的概念中，形式化表述如下：

```admonish check
### <a id="def_exogeneity_dag">定义 外生性 (基于图准则定义)</a>
&emsp;&emsp;如果 *X* 和 *Y* 在 G(M) 中没有共同祖代，或者等价地，如果 *X* 和 *Y* 之间所有的后门路径(通过对撞箭头)都被阻断，那么变量  *X* 相对于 *Y* 是外生的。
```

&emsp;&emsp;很容易看出，图模型条件蕴含基于误差项的条件，而后者又蕴含[式(7.46)](#form7.46)的反事实(或实用性)条件。反之，则不成立。例如，图6.4给出了一种情况，即基于误差项和反事实的准则都将 *X* 归类为外生变量，而图准则则认为 *X* 不是外生的。我们在6.4节指出，这种外生性(这里称为"无混杂")是不稳定的或偶然的，并且我们提出了这样一个问题，即是否应该将这种情况包括在定义之内？如果我们将不稳定的情况排除在外，那么上述的三级顺序层次结构将会失效，所有这三个定义都将重合。

> 注：图模型准则更加严格，因为它首先要求一个因果图，要求后门路径都被阻断；而基于误差项的准则则更加宽松，因为它不是通过图上的后门准则来进行判断的，因此可能允许存在例外。

### 工具变量：三个定义
&emsp;&emsp;工具变量的概念具有类似的三个层次结构，如图5.9所示。...  

&emsp;&emsp;在结束本节前，需要再次强调的是，由于图定义对模型参数的取值的不敏感，因此图模型可以很好地用于描述我们的直觉假设，包括因果效应、外生性、工具变量、混杂等，甚至可以描述更多技术概念。